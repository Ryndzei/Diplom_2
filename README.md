# Дипломный проект. Яндекс Практикум. Задание 2: API-тесты

Тестирование API StellarBurgers по [документации](https://code.s3.yandex.net/qa-automation-engineer/python-full/diploma/api-documentation.pdf?etag=3403196b527ca03259bfd0cb41163a89)

Были выполнены проверки по следующим сценариям:

#### [Создание пользователя](tests/test_create_user.py)

* Успешное создание уникального пользователя
* Ошибка при попытке создать пользователя, который уже зарегистрирован
* Ошибка при создании пользователя без одного из обязательных полей

#### [Логин пользователя](tests/test_login_user.py)

* Успешная авторизация зарегистрированного пользователя
* Ошибка при авторизации с неверными данными

#### [Изменение данных пользователя](tests/test_update_user_data.py)

* Успешное изменение полей (email, name) для авторизованного пользователя
* Ошибка при попытке изменить данные без авторизации

#### [Создание заказа](tests/test_create_order.py)

* Успешное создание заказа авторизованным пользователем с валидными ингредиентами
* Ошибка при создании заказа без авторизации
* Ошибка при создании заказа без списка ингредиентов
* Ошибка при создании заказа с неверными хешами ингредиентов

#### [Получение заказов пользователя](tests/test_get_user_orders.py)

* Успешное получение списка заказов для авторизованного пользователя
* Ошибка при попытке получить заказы без авторизации

---

### Структура репозитория

#### В корне проекта находятся:

* `conftest.py` — фикстуры для создания/удаления пользователя
* `data.py` — статичные payload’ы для тестов
* `random_data.py` — генерация случайных email, password, name
* `urls.py` — все базовые URL-адреса API
* `requirements.txt` — зависимости проекта

#### В папке [tests](tests) находятся тесты:

* `test_create_user.py`
* `test_login_user.py`
* `test_update_user_data.py`
* `test_create_order.py`
* `test_get_user_orders.py`

---

### Библиотеки

* pytest
* requests
* allure-pytest
* faker

---

### Команды

Установить зависимости

```shell
pip3 install -r requirements.txt
```

Запустить все тесты

```shell
pytest tests/
```

Посмотреть отчет в формате веб-страницы

```shell
allure serve allure-results
```
